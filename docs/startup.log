> docker compose up
WARN[0000] The "CORS_ORIGINS" variable is not set. Defaulting to a blank string.
WARN[0000] The "IFRAME_ORIGINS" variable is not set. Defaulting to a blank string.
WARN[0000] The "FLOWISE_FILE_SIZE_LIMIT" variable is not set. Defaulting to a blank string.
WARN[0000] The "DATABASE_PATH" variable is not set. Defaulting to a blank string.
WARN[0000] The "FLOWISE_SECRETKEY_OVERWRITE" variable is not set. Defaulting to a blank string.
WARN[0000] The "LOG_LEVEL" variable is not set. Defaulting to a blank string.
WARN[0000] The "DISABLE_FLOWISE_TELEMETRY" variable is not set. Defaulting to a blank string.
WARN[0000] The "MODEL_LIST_CONFIG_JSON" variable is not set. Defaulting to a blank string.
[+] Running 4/0
 ✔ Network my_network_flowise2                    Created                                                                                        0.0s
 ✔ Volume "flowise-pgsql_flowise2_postgres_data"  Created                                                                                        0.0s
 ✔ Container flowise-pgsql-flowise2_postgres-1    Created                                                                                        0.0s
 ✔ Container flowise-pgsql-flowise2-1             Created                                                                                        0.0s
Attaching to flowise2-1, flowise2_postgres-1
flowise2_postgres-1  | The files belonging to this database system will be owned by user "postgres".
flowise2_postgres-1  | This user must also own the server process.
flowise2_postgres-1  |
flowise2_postgres-1  | The database cluster will be initialized with locale "en_US.utf8".
flowise2_postgres-1  | The default database encoding has accordingly been set to "UTF8".
flowise2_postgres-1  | The default text search configuration will be set to "english".
flowise2_postgres-1  |
flowise2_postgres-1  | Data page checksums are disabled.
flowise2_postgres-1  |
flowise2_postgres-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok
flowise2_postgres-1  | creating subdirectories ... ok
flowise2_postgres-1  | selecting dynamic shared memory implementation ... posix
flowise2_postgres-1  | selecting default max_connections ... 100
flowise2_postgres-1  | selecting default shared_buffers ... 128MB
flowise2_postgres-1  | selecting default time zone ... Asia/Taipei
flowise2_postgres-1  | creating configuration files ... ok
flowise2_postgres-1  | running bootstrap script ... ok
flowise2_postgres-1  | sh: locale: not found
flowise2_postgres-1  | 2024-10-26 18:34:42.260 CST [35] WARNING:  no usable system locales were found
flowise2_postgres-1  | performing post-bootstrap initialization ... ok
flowise2_postgres-1  | syncing data to disk ... ok
flowise2_postgres-1  |
flowise2_postgres-1  |
flowise2_postgres-1  | Success. You can now start the database server using:
flowise2_postgres-1  |
flowise2_postgres-1  |     pg_ctl -D /var/lib/postgresql/data -l logfile start
flowise2_postgres-1  |
flowise2_postgres-1  | initdb: warning: enabling "trust" authentication for local connections
flowise2_postgres-1  | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
flowise2_postgres-1  | waiting for server to start....2024-10-26 18:34:42.676 CST [41] LOG:  starting PostgreSQL 15.7 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit
flowise2_postgres-1  | 2024-10-26 18:34:42.676 CST [41] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
flowise2_postgres-1  | 2024-10-26 18:34:42.677 CST [44] LOG:  database system was shut down at 2024-10-26 18:34:42 CST
flowise2_postgres-1  | 2024-10-26 18:34:42.678 CST [41] LOG:  database system is ready to accept connections
flowise2_postgres-1  |  done
flowise2_postgres-1  | server started
flowise2_postgres-1  | 2024-10-26 18:34:42.781 CST [50] LOG:  statement: SELECT 1 FROM pg_database WHERE datname = 'flowise2db' ;
flowise2_postgres-1  | 2024-10-26 18:34:42.785 CST [52] LOG:  statement: CREATE DATABASE "flowise2db" ;
flowise2_postgres-1  | CREATE DATABASE
flowise2_postgres-1  |
flowise2_postgres-1  |
flowise2_postgres-1  | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
flowise2_postgres-1  |
flowise2_postgres-1  | waiting for server to shut down....2024-10-26 18:34:42.803 CST [41] LOG:  received fast shutdown request
flowise2_postgres-1  | 2024-10-26 18:34:42.803 CST [41] LOG:  aborting any active transactions
flowise2_postgres-1  | 2024-10-26 18:34:42.804 CST [41] LOG:  background worker "logical replication launcher" (PID 47) exited with exit code 1
flowise2_postgres-1  | 2024-10-26 18:34:42.804 CST [42] LOG:  shutting down
flowise2_postgres-1  | 2024-10-26 18:34:42.804 CST [42] LOG:  checkpoint starting: shutdown immediate
flowise2_postgres-1  | 2024-10-26 18:34:42.848 CST [42] LOG:  checkpoint complete: wrote 920 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.012 s, sync=0.032 s, total=0.044 s; sync files=301, longest=0.001 s, average=0.001 s; distance=4233 kB, estimate=4233 kB
flowise2_postgres-1  | 2024-10-26 18:34:42.851 CST [41] LOG:  database system is shut down
flowise2_postgres-1  |  done
flowise2_postgres-1  | server stopped
flowise2_postgres-1  |
flowise2_postgres-1  | PostgreSQL init process complete; ready for start up.
flowise2_postgres-1  |
flowise2_postgres-1  | 2024-10-26 18:34:42.915 CST [1] LOG:  starting PostgreSQL 15.7 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 13.2.1_git20231014) 13.2.1 20231014, 64-bit
flowise2_postgres-1  | 2024-10-26 18:34:42.915 CST [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
flowise2_postgres-1  | 2024-10-26 18:34:42.915 CST [1] LOG:  listening on IPv6 address "::", port 5432
flowise2_postgres-1  | 2024-10-26 18:34:42.915 CST [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
flowise2_postgres-1  | 2024-10-26 18:34:42.916 CST [57] LOG:  database system was shut down at 2024-10-26 18:34:42 CST
flowise2_postgres-1  | 2024-10-26 18:34:42.918 CST [1] LOG:  database system is ready to accept connections
flowise2_postgres-1  | 2024-10-26 18:34:52.166 CST [69] LOG:  statement: SELECT 1
flowise2-1           | 2024-10-26 10:34:56 [INFO]: Starting Flowise...
flowise2_postgres-1  | 2024-10-26 18:34:56.348 CST [70] LOG:  statement: SELECT * FROM current_schema()
flowise2_postgres-1  | 2024-10-26 18:34:56.355 CST [70] LOG:  statement: CREATE EXTENSION IF NOT EXISTS "uuid-ossp"
flowise2_postgres-1  | 2024-10-26 18:34:56.358 CST [70] LOG:  statement: SELECT version();
flowise2-1           | 2024-10-26 10:34:56 [INFO]: 📦 [server]: Data Source is initializing...
flowise2_postgres-1  | 2024-10-26 18:34:56.360 CST [70] LOG:  statement: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'migrations'
flowise2_postgres-1  | 2024-10-26 18:34:56.362 CST [70] LOG:  statement: CREATE TABLE "migrations" ("id" SERIAL NOT NULL, "timestamp" bigint NOT NULL, "name" character varying NOT NULL, CONSTRAINT "PK_8c82d7f526340ab734260ea46be" PRIMARY KEY ("id"))
flowise2_postgres-1  | 2024-10-26 18:34:56.366 CST [70] LOG:  statement: SELECT * FROM "migrations" "migrations" ORDER BY "id" DESC
flowise2_postgres-1  | 2024-10-26 18:34:56.367 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.367 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS chat_flow (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "name" varchar NOT NULL,
flowise2_postgres-1  | 	                "flowData" text NOT NULL,
flowise2_postgres-1  | 	                deployed bool NULL,
flowise2_postgres-1  | 	                "isPublic" bool NULL,
flowise2_postgres-1  | 	                apikeyid varchar NULL,
flowise2_postgres-1  | 	                "chatbotConfig" varchar NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_3c7cea7d047ac4b91764574cdbf" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.369 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS chat_message (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "role" varchar NOT NULL,
flowise2_postgres-1  | 	                chatflowid varchar NOT NULL,
flowise2_postgres-1  | 	                "content" text NOT NULL,
flowise2_postgres-1  | 	                "sourceDocuments" varchar NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_3cc0d85193aade457d3077dd06b" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.370 CST [70] LOG:  statement: CREATE INDEX IF NOT EXISTS "IDX_e574527322272fd838f4f0f3d3" ON chat_message USING btree ("chatflowid");
flowise2_postgres-1  | 2024-10-26 18:34:56.371 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS credential (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "name" varchar NOT NULL,
flowise2_postgres-1  | 	                "credentialName" varchar NOT NULL,
flowise2_postgres-1  | 	                "encryptedData" varchar NOT NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_3a5169bcd3d5463cefeec78be82" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.372 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS tool (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "name" varchar NOT NULL,
flowise2_postgres-1  | 	                description text NOT NULL,
flowise2_postgres-1  | 	                color varchar NOT NULL,
flowise2_postgres-1  | 	                "iconSrc" varchar NULL,
flowise2_postgres-1  | 	                "schema" varchar NULL,
flowise2_postgres-1  | 	                func varchar NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_3bf5b1016a384916073184f99b7" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.374 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.374 CST [70] DETAIL:  parameters: $1 = '1693891895163', $2 = 'Init1693891895163'
flowise2_postgres-1  | 2024-10-26 18:34:56.375 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.375 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.375 CST [70] LOG:  statement: ALTER TABLE "chat_flow" ALTER COLUMN "chatbotConfig" TYPE TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.376 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.376 CST [70] DETAIL:  parameters: $1 = '1693995626941', $2 = 'ModifyChatFlow1693995626941'
flowise2_postgres-1  | 2024-10-26 18:34:56.376 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.376 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.376 CST [70] LOG:  statement: ALTER TABLE "chat_message" ALTER COLUMN "sourceDocuments" TYPE TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.377 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.377 CST [70] DETAIL:  parameters: $1 = '1693996694528', $2 = 'ModifyChatMessage1693996694528'
flowise2_postgres-1  | 2024-10-26 18:34:56.377 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.377 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.377 CST [70] LOG:  statement: ALTER TABLE "credential" ALTER COLUMN "encryptedData" TYPE TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.378 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.378 CST [70] DETAIL:  parameters: $1 = '1693997070000', $2 = 'ModifyCredential1693997070000'
flowise2_postgres-1  | 2024-10-26 18:34:56.378 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.378 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.378 CST [70] LOG:  statement: ALTER TABLE "tool" ALTER COLUMN "schema" TYPE TEXT, ALTER COLUMN "func" TYPE TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.378 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.378 CST [70] DETAIL:  parameters: $1 = '1693997339912', $2 = 'ModifyTool1693997339912'
flowise2_postgres-1  | 2024-10-26 18:34:56.379 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.379 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.379 CST [70] LOG:  statement: ALTER TABLE "chat_flow" ADD COLUMN IF NOT EXISTS "apiConfig" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.379 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.379 CST [70] DETAIL:  parameters: $1 = '1694099183389', $2 = 'AddApiConfig1694099183389'
flowise2_postgres-1  | 2024-10-26 18:34:56.380 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.380 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.380 CST [70] LOG:  statement: ALTER TABLE "chat_flow" ADD COLUMN IF NOT EXISTS "analytic" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.380 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.380 CST [70] DETAIL:  parameters: $1 = '1694432361423', $2 = 'AddAnalytic1694432361423'
flowise2_postgres-1  | 2024-10-26 18:34:56.380 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.381 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.381 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "chatType" VARCHAR NOT NULL DEFAULT 'INTERNAL', ADD COLUMN IF NOT EXISTS "chatId" VARCHAR, ADD COLUMN IF NOT EXISTS "memoryType" VARCHAR, ADD COLUMN IF NOT EXISTS "sessionId" VARCHAR;
flowise2_postgres-1  | 2024-10-26 18:34:56.381 CST [70] LOG:  statement: WITH RankedMessages AS (
flowise2_postgres-1  | 	                SELECT
flowise2_postgres-1  | 	                    "chatflowid",
flowise2_postgres-1  | 	                    "id",
flowise2_postgres-1  | 	                    "createdDate",
flowise2_postgres-1  | 	                    ROW_NUMBER() OVER (PARTITION BY "chatflowid" ORDER BY "createdDate") AS row_num
flowise2_postgres-1  | 	                FROM "chat_message"
flowise2_postgres-1  | 	            )
flowise2_postgres-1  | 	            SELECT "chatflowid", "id"
flowise2_postgres-1  | 	            FROM RankedMessages
flowise2_postgres-1  | 	            WHERE row_num = 1;
flowise2_postgres-1  | 2024-10-26 18:34:56.382 CST [70] LOG:  statement: ALTER TABLE "chat_message" ALTER COLUMN "chatId" SET NOT NULL;
flowise2_postgres-1  | 2024-10-26 18:34:56.382 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.382 CST [70] DETAIL:  parameters: $1 = '1694658756136', $2 = 'AddChatHistory1694658756136'
flowise2_postgres-1  | 2024-10-26 18:34:56.382 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.383 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.383 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS assistant (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "credential" varchar NOT NULL,
flowise2_postgres-1  | 	                "details" text NOT NULL,
flowise2_postgres-1  | 	                "iconSrc" varchar NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_3c7cea7a044ac4c92764576cdbf" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.385 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.385 CST [70] DETAIL:  parameters: $1 = '1699325775451', $2 = 'AddAssistantEntity1699325775451'
flowise2_postgres-1  | 2024-10-26 18:34:56.385 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.385 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.385 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS variable (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "name" varchar NOT NULL,
flowise2_postgres-1  | 	                "value" text NOT NULL,
flowise2_postgres-1  | 	                "type" text NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_98419043dd704f54-9830ab78f8" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.387 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.387 CST [70] DETAIL:  parameters: $1 = '1699325775451', $2 = 'AddVariableEntity1699325775451'
flowise2_postgres-1  | 2024-10-26 18:34:56.387 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.387 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.387 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "usedTools" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] DETAIL:  parameters: $1 = '1699481607341', $2 = 'AddUsedToolsToChatMessage1699481607341'
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] LOG:  statement: ALTER TABLE "chat_flow" ADD COLUMN IF NOT EXISTS "category" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] DETAIL:  parameters: $1 = '1699900910291', $2 = 'AddCategoryToChatFlow1699900910291'
flowise2_postgres-1  | 2024-10-26 18:34:56.388 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.389 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.389 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "fileAnnotations" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.389 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.389 CST [70] DETAIL:  parameters: $1 = '1700271021237', $2 = 'AddFileAnnotationsToChatMessage1700271021237'
flowise2_postgres-1  | 2024-10-26 18:34:56.389 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.389 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.389 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "fileUploads" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.390 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.390 CST [70] DETAIL:  parameters: $1 = '1701788586491', $2 = 'AddFileUploadsToChatMessage1701788586491'
flowise2_postgres-1  | 2024-10-26 18:34:56.390 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.390 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.390 CST [70] LOG:  statement: ALTER TABLE "chat_flow" ADD COLUMN IF NOT EXISTS "speechToText" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.391 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.391 CST [70] DETAIL:  parameters: $1 = '1706364937060', $2 = 'AddSpeechToText1706364937060'
flowise2_postgres-1  | 2024-10-26 18:34:56.391 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.391 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.391 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS chat_message_feedback (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "chatflowid" varchar NOT NULL,
flowise2_postgres-1  | 	                "content" text,
flowise2_postgres-1  | 	                "chatId" varchar NOT NULL,
flowise2_postgres-1  | 	                "messageId" varchar NOT NULL,
flowise2_postgres-1  | 	                "rating" varchar NOT NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_98419043dd704f54-9830ab78f9" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.393 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.393 CST [70] DETAIL:  parameters: $1 = '1707213601923', $2 = 'AddFeedback1707213601923'
flowise2_postgres-1  | 2024-10-26 18:34:56.393 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.393 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.394 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS upsert_history (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "chatflowid" varchar NOT NULL,
flowise2_postgres-1  | 	                "result" text NOT NULL,
flowise2_postgres-1  | 	                "flowData" text NOT NULL,
flowise2_postgres-1  | 	                "date" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_37327b22b6e246319bd5eeb0e88" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.395 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.395 CST [70] DETAIL:  parameters: $1 = '1709814301358', $2 = 'AddUpsertHistoryEntity1709814301358'
flowise2_postgres-1  | 2024-10-26 18:34:56.395 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.396 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.396 CST [70] LOG:  statement: ALTER TABLE "chat_message" ALTER COLUMN "chatflowid" type uuid USING "chatflowid"::uuid
flowise2_postgres-1  | 2024-10-26 18:34:56.398 CST [70] LOG:  statement: ALTER TABLE "chat_message" ALTER COLUMN "chatId" type varchar USING "chatId"::varchar
flowise2_postgres-1  | 2024-10-26 18:34:56.398 CST [70] LOG:  statement: ALTER TABLE "chat_message" ALTER COLUMN "sessionId" type varchar USING "sessionId"::varchar
flowise2_postgres-1  | 2024-10-26 18:34:56.398 CST [70] LOG:  statement: ALTER TABLE "assistant" ALTER COLUMN "credential" type uuid USING "credential"::uuid
flowise2_postgres-1  | 2024-10-26 18:34:56.400 CST [70] LOG:  statement: ALTER TABLE "chat_message_feedback" ALTER COLUMN "chatflowid" type uuid USING "chatflowid"::uuid
flowise2_postgres-1  | 2024-10-26 18:34:56.401 CST [70] LOG:  statement: ALTER TABLE "chat_message_feedback" ALTER COLUMN "chatId" type varchar USING "chatId"::varchar
flowise2_postgres-1  | 2024-10-26 18:34:56.402 CST [70] LOG:  statement: ALTER TABLE "chat_message_feedback" ALTER COLUMN "messageId" type uuid USING "messageId"::uuid
flowise2_postgres-1  | 2024-10-26 18:34:56.403 CST [70] LOG:  statement: ALTER TABLE "chat_message_feedback" ADD CONSTRAINT "UQ_6352078b5a294f2d22179ea7956" UNIQUE ("messageId")
flowise2_postgres-1  | 2024-10-26 18:34:56.403 CST [70] LOG:  statement: CREATE INDEX IF NOT EXISTS "IDX_f56c36fe42894d57e5c664d229" ON "chat_message" ("chatflowid")
flowise2_postgres-1  | 2024-10-26 18:34:56.404 CST [70] LOG:  statement: CREATE INDEX IF NOT EXISTS "IDX_f56c36fe42894d57e5c664d230" ON "chat_message_feedback" ("chatflowid")
flowise2_postgres-1  | 2024-10-26 18:34:56.404 CST [70] LOG:  statement: CREATE INDEX IF NOT EXISTS "IDX_9acddcb7a2b51fe37669049fc6" ON "chat_message_feedback" ("chatId")
flowise2_postgres-1  | 2024-10-26 18:34:56.405 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.405 CST [70] DETAIL:  parameters: $1 = '1710497452584', $2 = 'FieldTypes1710497452584'
flowise2_postgres-1  | 2024-10-26 18:34:56.405 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.405 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.405 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS lead (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "chatflowid" varchar NOT NULL,
flowise2_postgres-1  | 	                "chatId" varchar NOT NULL,
flowise2_postgres-1  | 	                "name" text,
flowise2_postgres-1  | 	                "email" text,
flowise2_postgres-1  | 	                "phone" text,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_98419043dd704f54-9830ab78f0" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.407 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.407 CST [70] DETAIL:  parameters: $1 = '1710832137905', $2 = 'AddLead1710832137905'
flowise2_postgres-1  | 2024-10-26 18:34:56.407 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.407 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.407 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "leadEmail" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.408 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.408 CST [70] DETAIL:  parameters: $1 = '1711538016098', $2 = 'AddLeadToChatMessage1711538016098'
flowise2_postgres-1  | 2024-10-26 18:34:56.408 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.408 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.408 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS document_store (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "name" varchar NOT NULL,
flowise2_postgres-1  | 	                "description" varchar,
flowise2_postgres-1  | 	                "loaders" text,
flowise2_postgres-1  | 	                "whereUsed" text,
flowise2_postgres-1  | 	                "status" varchar NOT NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_98495043dd774f54-9830ab78f9" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.409 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS document_store_file_chunk (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "docId" uuid NOT NULL,
flowise2_postgres-1  | 	                "chunkNo" integer NOT NULL,
flowise2_postgres-1  | 	                "storeId" uuid NOT NULL,
flowise2_postgres-1  | 	                "pageContent" text,
flowise2_postgres-1  | 	                "metadata" text,
flowise2_postgres-1  | 	                CONSTRAINT "PK_90005043dd774f54-9830ab78f9" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.410 CST [70] LOG:  statement: CREATE INDEX IF NOT EXISTS "IDX_e76bae1780b77e56aab1h2asd4" ON document_store_file_chunk USING btree ("docId");
flowise2_postgres-1  | 2024-10-26 18:34:56.411 CST [70] LOG:  statement: CREATE INDEX IF NOT EXISTS "IDX_e213b811b01405a42309a6a410" ON document_store_file_chunk USING btree ("storeId");
flowise2_postgres-1  | 2024-10-26 18:34:56.412 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.412 CST [70] DETAIL:  parameters: $1 = '1711637331047', $2 = 'AddDocumentStore1711637331047'
flowise2_postgres-1  | 2024-10-26 18:34:56.412 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.412 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.412 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "agentReasoning" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.413 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.413 CST [70] DETAIL:  parameters: $1 = '1714679514451', $2 = 'AddAgentReasoningToChatMessage1714679514451'
flowise2_postgres-1  | 2024-10-26 18:34:56.413 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.413 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.413 CST [70] LOG:  statement: ALTER TABLE "document_store" ADD COLUMN IF NOT EXISTS "vectorStoreConfig" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.413 CST [70] LOG:  statement: ALTER TABLE "document_store" ADD COLUMN IF NOT EXISTS "embeddingConfig" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.413 CST [70] LOG:  statement: ALTER TABLE "document_store" ADD COLUMN IF NOT EXISTS "recordManagerConfig" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.414 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.414 CST [70] DETAIL:  parameters: $1 = '1715861032479', $2 = 'AddVectorStoreConfigToDocStore1715861032479'
flowise2_postgres-1  | 2024-10-26 18:34:56.414 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.414 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.414 CST [70] LOG:  statement: ALTER TABLE "chat_flow" ADD COLUMN IF NOT EXISTS "type" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.415 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.415 CST [70] DETAIL:  parameters: $1 = '1716300000000', $2 = 'AddTypeToChatFlow1716300000000'
flowise2_postgres-1  | 2024-10-26 18:34:56.415 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.415 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.415 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS apikey (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "apiKey" varchar NOT NULL,
flowise2_postgres-1  | 	                "apiSecret" varchar NOT NULL,
flowise2_postgres-1  | 	                "keyName" varchar NOT NULL,
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_96109043dd704f53-9830ab78f0" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.416 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.416 CST [70] DETAIL:  parameters: $1 = '1720230151480', $2 = 'AddApiKey1720230151480'
flowise2_postgres-1  | 2024-10-26 18:34:56.417 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.417 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.417 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "action" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.418 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.418 CST [70] DETAIL:  parameters: $1 = '1721078251523', $2 = 'AddActionToChatMessage1721078251523'
flowise2_postgres-1  | 2024-10-26 18:34:56.418 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.419 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.419 CST [70] LOG:  statement: CREATE TABLE IF NOT EXISTS custom_template (
flowise2_postgres-1  | 	                id uuid NOT NULL DEFAULT uuid_generate_v4(),
flowise2_postgres-1  | 	                "name" varchar NOT NULL,
flowise2_postgres-1  | 	                "flowData" text NOT NULL,
flowise2_postgres-1  | 	                "description" varchar NULL,
flowise2_postgres-1  | 	                "badge" varchar NULL,
flowise2_postgres-1  | 	                "framework" varchar NULL,
flowise2_postgres-1  | 	                "usecases" varchar NULL,
flowise2_postgres-1  | 	                "type" varchar NULL,
flowise2_postgres-1  | 	                "createdDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                "updatedDate" timestamp NOT NULL DEFAULT now(),
flowise2_postgres-1  | 	                CONSTRAINT "PK_3c7cea7d087ac4b91764574cdbf" PRIMARY KEY (id)
flowise2_postgres-1  | 	            );
flowise2_postgres-1  | 2024-10-26 18:34:56.420 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.420 CST [70] DETAIL:  parameters: $1 = '1725629836652', $2 = 'AddCustomTemplate1725629836652'
flowise2_postgres-1  | 2024-10-26 18:34:56.420 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.421 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.421 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "artifacts" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.421 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.421 CST [70] DETAIL:  parameters: $1 = '1726156258465', $2 = 'AddArtifactsToChatMessage1726156258465'
flowise2_postgres-1  | 2024-10-26 18:34:56.421 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:56.422 CST [70] LOG:  statement: START TRANSACTION
flowise2_postgres-1  | 2024-10-26 18:34:56.422 CST [70] LOG:  statement: ALTER TABLE "chat_flow" ADD COLUMN IF NOT EXISTS "followUpPrompts" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.422 CST [70] LOG:  statement: ALTER TABLE "chat_message" ADD COLUMN IF NOT EXISTS "followUpPrompts" TEXT;
flowise2_postgres-1  | 2024-10-26 18:34:56.422 CST [70] LOG:  execute <unnamed>: INSERT INTO "migrations"("timestamp", "name") VALUES ($1, $2)
flowise2_postgres-1  | 2024-10-26 18:34:56.422 CST [70] DETAIL:  parameters: $1 = '1726666309552', $2 = 'AddFollowUpPrompts1726666309552'
flowise2_postgres-1  | 2024-10-26 18:34:56.423 CST [70] LOG:  statement: COMMIT
flowise2_postgres-1  | 2024-10-26 18:34:57.552 CST [70] LOG:  statement: SELECT "ChatFlow"."id" AS "ChatFlow_id", "ChatFlow"."name" AS "ChatFlow_name", "ChatFlow"."flowData" AS "ChatFlow_flowData", "ChatFlow"."deployed" AS "ChatFlow_deployed", "ChatFlow"."isPublic" AS "ChatFlow_isPublic", "ChatFlow"."apikeyid" AS "ChatFlow_apikeyid", "ChatFlow"."chatbotConfig" AS "ChatFlow_chatbotConfig", "ChatFlow"."apiConfig" AS "ChatFlow_apiConfig", "ChatFlow"."analytic" AS "ChatFlow_analytic", "ChatFlow"."speechToText" AS "ChatFlow_speechToText", "ChatFlow"."followUpPrompts" AS "ChatFlow_followUpPrompts", "ChatFlow"."category" AS "ChatFlow_category", "ChatFlow"."type" AS "ChatFlow_type", "ChatFlow"."createdDate" AS "ChatFlow_createdDate", "ChatFlow"."updatedDate" AS "ChatFlow_updatedDate" FROM "chat_flow" "ChatFlow"
flowise2-1           | 2024-10-26 10:34:57 [INFO]: 📦 [server]: Data Source has been initialized!
flowise2-1           | 2024-10-26 10:34:57 [INFO]: ⚡️ [server]: Flowise Server is listening at :3000
flowise2_postgres-1  | 2024-10-26 18:35:02.219 CST [79] LOG:  statement: SELECT 1
flowise2_postgres-1  | 2024-10-26 18:35:12.262 CST [88] LOG:  statement: SELECT 1
flowise2_postgres-1  | 2024-10-26 18:35:22.315 CST [98] LOG:  statement: SELECT 1